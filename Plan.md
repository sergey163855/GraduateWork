# Планирование автоматизации тестирования.


### Покупка тура через кнопку "Купить" с главной страницы.

*Сценарий №1: Успешная оплата при помощи карты, на которой достаточно средств.*

Шаги:
1. Открыть главную страницу сервиса http://localhost:8080/,
2. На странице сайта нажимаем на прозрачную кнопку "Купить",
3. Заполняем форму "Оплата по карте" валидными данными,
4. Нажимаем на красную кнопку "Продолжить",

Ожидаемый результат: появляется информационное сообщение "Успешно. Операция одобрена Банком".

*Сценарий №2: Отказ в оплате при помощи карты, на которой недостаточно средств.*

Шаги:
1. Открыть главную страницу сервиса http://localhost:8080/,
2. На странице сайта нажимаем на прозрачную кнопку "Купить",
3. Заполняем форму "Оплата по карте" Номер карты = "4444 4444 4444 4442", остальные поля заполняем валидными данными,
4. Нажимаем на красную кнопку "Продолжить",

Ожидаемый результат: появляется информационное сообщение: "Ошибка! Банк отказал в проведении операции".

### Покупка тура через кнопку "Купить в кредит" с главной страницы.

*Сценарий №1: Успешная оплата при помощи карты в кредит, на которой достаточно средств.*

Шаги:
1. Открыть главную страницу сервиса http://localhost:8080/,
2. На странице сайта нажимаем на красную кнопку "Купить в кредит",
3. Заполняем форму "Кредит по данным карты", валидными данными,
4. Нажимаем на красную кнопку "Продолжить",

Ожидаемый результат: появляется информационное сообщение "Успешно. Операция одобрена Банком".

*Сценарий №2: Отказ в оплате при помощи карты в кредит, на которой недостаточно средств.*

Шаги:
1. Открыть главную страницу сервиса http://localhost:8080/,
2. На странице сайта нажимаем на красную кнопку "Купить в кредит",
3. Заполняем форму "Кредит по данным карты" Номер карты = "4444 4444 4444 4442", остальные поля заполняем валидными данными;
4. Нажимаем на красную кнопку "Продолжить",
   
Ожидаемый результат: появляется информационное сообщение "Ошибка! Банк отказал в проведении операции".

### Проверка банковских карт в базе данных через API и их статутсы в БД.

Данные для карты со статусом APPROVED: Номер карты - 4444444444444441, остальные поля заполняются валидными данными. 
Данные для карты со статусом DECLINED: Номер карты - 4444444444444442, остальные поля заполняются валидными данными.

Тестируемые сценарии:

1. При оплате по карте 4444444444444441 (обращение к http://localhost:8080/api/v1/pay) ответ сервера - код 200 OK, статус карты APPROVED
2. При оплате по карте 4444444444444442 (обращение к http://localhost:8080/api/v1/pay) ответ сервера - код 200 OK, статус карты DECLINED
3. При отправке заявки на кредит по карте 4444444444444441 (обращение к http://localhost:8080/api/v1/credit) ответ сервера - код 200 OK, статус карты APPROVED
4. При отправке заявки на кредит по карте 4444444444444442 (обращение к http://localhost:8080/api/v1/credit) ответ сервера - код 200 OK, статус карты DECLINED

### Проверка полей ввода данных

**Поле "Номер карты"**

Предусловия для оплаты не в кредит:

1. Открыть главную страницу сервиса http://localhost:8080/, 
2. На главной странице сервиса нажимаем на прозрачную кнопку "Купить",
3. Заполняем поля валидными данными.

Предусловия для оплаты в кредит:

1. Открыть главную страницу сервиса http://localhost:8080/,
2. На главной странице сервиса нажимаем на красную кнопку "Купить в кредит";
3. Заполняем поля валидными данными.


При вводе некорректных данных под полем ввода "Номер карты" должно появляться информационное сообщение об ошибке ("Поле обязательно для заполнения" или "Неверный формат").

1. Заявка не должна отправляться, если поле "Номер карты" пустое;
2. Заявка не должна отправляться, если поле "Номер карты" содержит 15 цифр (например, "4444 4444 4444 444");
3. Заявка не должна отправляться, если поле "Номер карты" содержит номер карты другого банка, которого нет в БД банка.

**Поле "Месяц"**

Предусловия для оплаты не в кредит:

1. Открыть главную страницу сервиса http://localhost:8080/, 
2. На главной странице сервиса нажимаем на прозрачную кнопку "Купить",
3. Заполняем поля валидными данными.
 
 Предусловия для оплаты в кредит:
 
1. Открыть главную страницу сервиса http://localhost:8080/,
2. На главной странице сервиса нажимаем на красную кнопку "Купить в кредит";
3. Заполняем поля валидными данными.



При вводе некорректных данных под полем ввода "Месяц" должно появляться информационное сообщение об ошибке ("Поле обязательно для заполнения", "Неверно указан срок действия карты" или "Неверный формат").

1. Заявка не должна отправляться, если поле "Месяц" пустое;
2. Заявка не должна отправляться, если поле "Месяц" содержит нулевое значение;
3. Заявка не должна отправляться, если поле "Месяц" содержит одну цифру.
4. Заявка не должна отправляться, если поле "Месяц" содержит число, которое больше 12;


**Поле "Год"**

Предусловия для оплаты не в кредит:
 
1. Открыть главную страницу сервиса http://localhost:8080/, 
2. На главной странице сервиса нажимаем на прозрачную кнопку "Купить",
3. Заполняем поля валидными данными.
 
 Предусловия для оплаты в кредит:
 
1. Открыть главную страницу сервиса http://localhost:8080/,
2. На главной странице сервиса нажимаем на красную кнопку "Купить в кредит";
3. Заполняем поля валидными данными.

При вводе некорректных данных под полем ввода "Год" должно появляться информационное сообщение об ошибке ("Поле обязательно для заполнения", "Неверно указан срок действия карты" или "Истёк срок действия карты").

1. Заявка не должна отправляться, если поле "Год" пустое;
2. Заявка не должна отправляться, если поле "Год" содержит цифры ранее текущего года (например, "19");
3. Заявка не должна отправляться, если поле "Год" содержит цифры намного позже текущего года (например, "50").

**Поле "Владелец"**

Предусловия для оплаты не в кредит:
 
1. Открыть главную страницу сервиса http://localhost:8080/, 
2. На главной странице сервиса нажимаем на прозрачную кнопку "Купить",
3. Заполняем поля валидными данными.
 
 
 Предусловия для оплаты в кредит:
 
1. Открыть главную страницу сервиса http://localhost:8080/,
2. На главной странице сервиса нажимаем на красную кнопку "Купить в кредит";
3. Заполняем поля валидными данными.

При вводе некорректных данных под полем ввода "Владелец" должно появляться информационное сообщение об ошибке ("Поле обязательно для заполнения" или "Неверный формат").

1. Заявка не должна отправляться, если поле "Владелец" пустое;
2. Заявка не должна отправляться, если поле "Владелец" содержит одно слово (например, "Ivanov");
3. Заявка не должна отправляться, если поле "Владелец" содержит ФИО полностью (например, "Ivanov Ivan Ivanovich");
4. Заявка не должна отправляться, если поле "Владелец" содержит фамилию и имя в нижнем регистре (например, "ivanov ivan");
5. Заявка не должна отправляться, если поле "Владелец" содержит фамилию и имя в верхнем регистре (например, "IVANOV IVAN");
6. Заявка не должна отправляться, если поле "Владелец" содержит фамилию и имя на русском языке (например, "Иванов Иван");
7. Заявка не должна отправляться, если поле "Владелец" содержит цифры (например, "1233445");
8. Заявка не должна отправляться, если поле "Владелец" содержит символы (например, "~!@$%№").

**Поле "CVV"**

Предусловия для оплаты не в кредит:
 
1. Открыть главную страницу сервиса http://localhost:8080/, 
2. На главной странице сервиса нажимаем на прозрачную кнопку "Купить",
3. Заполняем поля валидными данными.
 
 Предусловия для покупки в кредит
 
1. Открыть главную страницу сервиса http://localhost:8080/,
2. На главной странице сервиса нажимаем на красную кнопку "Купить в кредит";
3. Заполняем поля валидными данными.
   
При вводе некорректных данных под полем ввода "CVV" должно появляться иформационное сообщение об ошибке ("Поле обязательно для заполнения" или "Неверный формат").

1. Заявка не должна отправляться, если поле "CVV" пустое;
2. Заявка не должна отправляться, если поле "CVV" содержит одну цифру (например, "1");
3. Заявка не должна отправляться, если поле "CVV" содержит две цифры (например, "11").
   
# Перечень используемых инструментов с обоснованием выбора

1. IDEA = Широкое применение, функциональный пользовательский интерфейс, наличие плагинов и инструментов работы с базами данных.

2. Java 11 = Язык программирования.
   
3. Git Github = Система контроля версий GitHub, надежный, удобный, функциональный сервис для хранения исходного кода.

4. JUnit 5 = Фреймворк который подходит для автотестов.

5. Selenide = Фреймворк для тестирования веб-приложений. 

6. Lombok = это основанная на аннотациях библиотека Java, позволяющая сократить шаблонный код.

7. Docker = поможет выкладывать наш код быстрее, быстрее тестировать, необходим для запуска БД.

# Перечень и описание возможных рисков при автоматизации

1. Большое количество дефектов в функциональности.
2. Проблемы окружения.
3. Проблемы с тестовыми данными.


# Интервальная оценка с учётом рисков в часах

1. Подготовительные мероприятия к проведению тестирования = 6 часов,
2. Написание кода  = 56 часов,
3. Отчет тестирования = 10 часов,
4. Отчет автоматизации  = 10 часов.

# План сдачи работ: когда будут готовы автотесты, результаты их прогона

1. Написание авто-тестов 7 рабочих дней согласно плана,
2. Подготовка отчета тестирования,
3. Подготовка отчета автоматизации.
